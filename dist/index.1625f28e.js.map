{"mappings":"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","sources":["src/script.js"],"sourcesContent":["/** TODO\n * 1. check dynamic update of bpm --UPDATE NON NE VENGO A CAPO\n * 2. check if slider visualization now works --FOLDATO NON è IMPORTANTE PER IL MOMENTO\n * 4. provare a gestire key e scale con v-model -- UPDATE CREATA VARIABILE\n*/\n\nVue.config.devtools = true\n\nlet instSelComponent = {\n\n    template:'\\\n            <div class=\"inst_sel\"\\\n                @click=\"instSelection\"\\\n                :style=\"cssVars\">\\\n           </div>\\\n    ',\n\n    props:{\n        id: { type: Number, },\n        selected_inst:{ type: Number, }\n    },\n\n    methods: {\n        instSelection() {\n           this.state = true\n           this.$emit('instSelectionEvent', this.id)\n       },\n    },\n\n    computed: {\n        cssVars() {\n            activeCSScolors = ['rgb(255, 0, 0)','rgb(0, 0, 255)','rgb(0, 255, 0)']\n            passiveCSScolors = ['rgb(120, 0, 0)','rgb(0, 0, 120)','rgb(0, 120, 0)']\n            if(this.id==this.selected_inst){\n            return{\n                '--inst_sel_color': activeCSScolors[this.id-1],\n                '--inst_sel_border': '0px'\n            }}\n            return{\n                '--inst_sel_color': passiveCSScolors[this.id-1],\n                '--inst_sel_border': '2px'\n            }\n        }\n    }\n}\n\nlet controllerComponent = {\n    template:'\\\n       <div class=\"controller\">\\\n            <input class=\"text-input\" type=\"number\" v-model=\"newInput\" placeholder=\"Add a layer (press enter)\" @keyup.enter=\"addLayer\">\\\n            <input class=\"text-input\" type=\"number\" v-model=\"bpm_value\" placeholder=\"Select bpm (press enter)\" @keyup.enter=\"updateBPM\">\\\n            <button class=\"btn-1\" @click=\"$emit(\\'playAllEvent\\')\">Play</button>\\\n            <button class=\"btn-1\" @click=\"$emit(\\'stopAllEvent\\')\">Stop</button>\\\n            <label>Instrument:</label>\\\n            <inst-component v-for=\"k in num_inst\"\\\n                :id=\"k\"\\\n                :selected_inst=selected_inst\\\n                @instSelectionEvent=\"instSelection\">\\\n            </inst-component>\\\n        </div>\\\n    ',\n\n    components: {\n        'inst-component' : instSelComponent,\n    },\n\n    props: {\n        id: {},\n        selected_inst:{\n            default: 1,\n        }\n    },\n\n    data() {\n        return {\n            newInput: '',\n            bpm_value: '',\n            num_inst: 3,\n        }\n    },\n\n    computed: {\n        newInput_toNumber() {\n            return this.newInput ? parseInt(this.newInput) : null\n        },\n        bpm_value_toNumber() {\n            return this.bpm_value ? parseInt(this.bpm_value) : null\n        }\n    },\n\n    methods: {\n        addLayer() {\n            this.$emit('newLayerEvent', this.newInput_toNumber)\n            this.newInput = ''\n        },\n        updateBPM() {\n            this.$emit('bpmEvent', this.bpm_value_toNumber)\n            this.bpm_value = '' \n        },\n        instSelection(inst_id) {\n           this.$emit('instSelectionEvent', inst_id)\n           this.selected_inst=inst_id\n       },\n    }\n};\n\nlet menuElementcomponent = {\n    template:'<div @click=\"$emit(\\'selectionEvent\\', element)\"> {{ element }} </div>',\n    props: ['element']\n}\n\nlet scaleSelectorComponent = {\n\n    template: '\\\n        <div id=\"key-selector\" class=\"selector\"> {{ selectedScale }}\\\n            <menu-element-component v-for=\"mode in scales\"\\\n                class=\"menu-element\"\\\n                :element=\"mode\"\\\n                @selectionEvent=\"selectScale\">\\\n            </menu-element-component>\\\n        </div>\\\n    ',\n\n    components: {\n        'menu-element-component' : menuElementcomponent,\n    },\n\n    data() {\n        return {\n            selectedScale: 'Major',\n            scales: ['Major','Minor','Melodic Minor','Harmonic Minor','Diminuished','Augmented','Hexatonic'],\n        }\n    },\n\n    methods: {\n        selectScale(scale) {\n            this.selectedScale = scale;\n        }\n    }\n};\n\nlet keySelectorComponent = {\n\n    template: '\\\n        <div id=\"key-selector\" class=\"selector\">Selected key: {{ selectedKey }}\\\n            <menu-element-component v-for=\"note in keys\"\\\n                class=\"menu-element\"\\\n                :element=\"note\"\\\n                @selectionEvent=\"selectKey\">\\\n            </menu-element-component>\\\n        </div>\\\n    ',\n\n    components: {\n        'menu-element-component' : menuElementcomponent,\n    },\n\n    data() {\n        return {\n            selectedKey: 'C',\n            keys: ['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'],\n        }\n    },\n\n    methods: {\n        selectKey(note) {\n            this.selectedKey = note;\n        }\n    }\n};\n\nlet keyComponent = {\n    template:'\\\n        <div @click=\"toggleActive\">\\\n            <div class=\"key\"\\\n                :class=\"{active : state1 || state2 || state3}\"\\\n                :style=\"cssVars\">\\\n            </div>\\\n        </div>\\\n    ',\n   \n    props: {\n        beatId: { type: Number },\n        keyId: {type: Number },\n        state1: { default: false },\n        state2: { default: false },\n        state3: { default: false },\n        \n        isPlaying: { type: Number },\n        inst_selected:{ type: Number },\n        last_color:{\n            type: Number,\n            default: 0,\n        },\n        very_last_color:{\n           type: Number,\n           default: 0,\n       }\n    },\n\n    methods: {\n        toggleActive() {\n            switch(this.inst_selected){\n                case 1:\n                    this.state1 = !this.state1\n                    if(this.state1){\n                        this.$emit('playSound1Event',this.keyId)\n                    } break;\n                case 2: \n                    this.state2 = !this.state2\n                    if(this.state2){\n                        this.$emit('playSound2Event',this.keyId)\n                    } break; \n                case 3: \n                    this.state3 = !this.state3\n                    if(this.state3){\n                        this.$emit('playSound3Event',this.keyId)\n                    } break;\n            } \n        }\n    },\n\n    watch: {\n        'isPlaying': function(){\n            if(this.state1 && this.isPlaying == this.beatId){\n                this.$emit('playSound1Event',this.keyId)\n            }\n            if(this.state2 && this.isPlaying == this.beatId){\n               this.$emit('playSound2Event',this.keyId)\n           }\n           if(this.state3 && this.isPlaying == this.beatId){\n               this.$emit('playSound3Event',this.keyId)\n           }\n        }\n    },\n\n    computed: {\n       cssVars() {\n           CSScolors = ['rgb(255, 0, 0)','rgb(0, 0, 255)','rgb(0, 255, 0)'] /* Modifica qui i colori degli strumenti*/\n           if(this.state1 && this.state2 &&this.state3){\n               return {\n                   '--inst_color': CSScolors[3-this.very_last_color-this.last_color],\n                   '--shadow': '-7px 0 '+CSScolors[this.very_last_color]+',-14px 0 '+CSScolors[this.last_color],\n                   '--inst_shift': '7px',\n                   }\n               }\n           if(this.state1 && this.state2){\n               this.very_last_color = Math.abs(this.last_color-1)\n               return {\n                   '--inst_color': CSScolors[this.very_last_color],\n                   '--shadow': '-7px 0 '+CSScolors[this.last_color],\n                   '--inst_shift': '3.5px',\n                   }\n               }\n           if(this.state2 && this.state3){\n               this.very_last_color = Math.abs(this.last_color-3)\n               return {\n                   '--inst_color': CSScolors[this.very_last_color],\n                   '--shadow': '-7px 0 '+CSScolors[this.last_color],\n                   '--inst_shift': '3.5px',\n                   }\n               }\n           if(this.state1 && this.state3){\n               this.very_last_color = Math.abs(this.last_color-2)\n               return {\n                   '--inst_color': CSScolors[this.very_last_color],\n                   '--shadow': '-7px 0 '+CSScolors[this.last_color],\n                   '--inst_shift': '3.5px',\n                   }\n               }\n           if(this.state1){\n               this.last_color = 0\n               return {\n                   '--inst_color': CSScolors[0],\n                   '--inst_shift': '0px',\n                   }\n               }\n           else if(this.state2){\n               this.last_color = 1\n               return {\n                   '--inst_color': CSScolors[1],\n                   '--inst_shift': '0px',\n                   }\n               }\n           else if(this.state3){\n               this.last_color = 2\n               return {\n                   '--inst_color': CSScolors[2],\n                   '--inst_shift': '0px',\n                   }\n               }\n       }\n    }\n}\n\nlet columnComponent = {\n    template: '\\\n        <div>\\\n            <key-component v-for=\"k in tonesInScale\"\\\n                class=\"keyback\"\\\n                :isPlaying=\"isPlaying\"\\\n                :inst_selected=\"inst_selected\"\\\n                :beatId=\"beatId\"\\\n                :keyId=tonesInScale-k\\\n                @playSound1Event=\"playInst1\"\\\n                @playSound2Event=\"playInst2\"\\\n                @playSound3Event=\"playInst3\">\\\n            </key-component>\\\n        </div>\\\n    ',\n\n    components : {\n        'key-component' : keyComponent\n    },\n\n    data(){\n        return{\n            scale_keyboard : [\"C4\",\"D4\",\"E4\",\"F4\",\"G4\",\"A4\",\"B4\"],\n        }\n    },\n\n    props : ['beatId','tonesInScale', \"inst_selected\", 'isPlaying'],\n\n    methods : {\n        playInst1(keyId){\n            synth1.triggerAttackRelease(this.scale_keyboard[keyId],\"16n\")\n        },\n        playInst2(keyId){\n            synth2.triggerAttackRelease(this.scale_keyboard[keyId],\"16n\")\n        },\n        playInst3(keyId){\n            synth3.triggerAttack(this.scale_keyboard[keyId]);\n        },\n    }\n}\n\nlet layerComponent = {\n    template:'\\\n        <div class=\"layer\">\\\n            <div class=\"keyboard\">\\\n                <column-component v-for=\"k in num_beats\"\\\n                    class=\"column\" :style=\"cssVars\"\\\n                    :class=\"{playing : k === isPlaying + 1}\"\\\n                    :beatId=\"k-1\"\\\n                    :isPlaying=\"isPlaying\"\\\n                    :inst_selected=\"inst_id\"\\\n                    :tonesInScale=\"tonesInScale\">\\\n                </key-component>\\\n            </div>\\\n            <div class=\"layer-controller\">\\\n                <div id=\"buttons\">\\\n                    <button id=\"remove-btn\" @click=\"$emit(\\'remove\\')\">Remove layer</button>\\\n                    <button id=\"addKey-btn\" @click=\"$emit(\\'addKeyEvent\\')\"> + </button>\\\n                    <button id=\"removeKey-btn\" @click=\"$emit(\\'removeKeyEvent\\')\"> - </button>\\\n                </div>\\\n                <key-selector-component\\\n                    @keySelectedEvent=\"printKey\">\\\n                </key-selector-component>\\\n                <scale-selector-component\\\n                    @scaleSelectedEvent=\"printScale\">\\\n                </scale-selector-component>\\\n            </div>\\\n        </div>\\\n    ',\n     \n    components: {\n        'column-component' : columnComponent,\n        'scale-selector-component' : scaleSelectorComponent,\n        'key-selector-component' : keySelectorComponent,\n    },\n    \n    props : ['num_beats','total_duration','inst_id','key','scale'],\n    \n    data() {\n        return {\n            isPlaying: 0,\n            my_clock: '',\n            key: '',\n            scale: '',\n            tonesInScale: 7,\n        }\n    },\n    \n    computed: {\n        my_beat_duration() {\n            return this.total_duration/this.num_beats;\n        },\n        cssVars() {\n            var layerWidth = 500;\n            var margin = 5;\n            var borderKey = 3;\n            var keyHeight = 18;\n            return {\n                '--columnWidth': (layerWidth - this.num_beats*2*margin)/this.num_beats + 'px',\n                '--columnHeight' : this.tonesInScale*(keyHeight + 2*borderKey) + 'px',\n            }\n        }\n    },\n\n    methods: {\n        next() {\n            this.isPlaying = (this.isPlaying + 1) % (this.num_beats);\n        },\n        stop() {\n            clearInterval(this.my_clock)\n        },\n        play() {\n            this.stop();\n            this.my_clock = setInterval(this.next,this.my_beat_duration)\n        },\n        printScale(num_scale){\n            console.log(\"Selected scale \" + num_scale);\n            this.scale = num_scale;\n        },\n        printKey(num_key){\n            console.log(\"Selected key \" + num_key)\n            this.key = num_key;\n        }\n    }\n};\n\nlet sequencerComponent = {\n    \n    template: '\\\n        <div>\\\n            <div class=\"view-box\">\\\n                <p class=\"viewer\">BPM: {{bpm}}</p>\\\n                <p class=\"viewer\">Selected instrument: {{inst_name[inst_id-1]}}</p>\\\n            </div>\\\n            <controller-component\\\n                @newLayerEvent=\"addLayer\"\\\n                @bpmEvent=\"updateBPM\"\\\n                @playAllEvent=\"playAll\"\\\n                @stopAllEvent=\"stopAll\"\\\n                @instSelectionEvent=\"instSelected\"\\\n            ></controller-component>\\\n            <div id=\"layers-container\">\\\n                <layer-component v-for=\"(layer,index) in layers\"\\\n                    ref=\"layers_refs\"\\\n                    :key=\"layer.id\"\\\n                    :num_beats=\"layer.num_beats\"\\\n                    :total_duration=\"total_duration\"\\\n                    :inst_id=\"inst_id\"\\\n                    @remove=\"layers.splice(index,1)\"\\\n                    @addKeyEvent=\"layer.num_beats++\"\\\n                    @removeKeyEvent=\"layer.num_beats--\">\\\n                </layer-component>\\\n            </div>\\\n        </div>\\\n    ',\n    \n    components: {\n        'layer-component' : layerComponent,\n        'controller-component' : controllerComponent,\n    },\n    \n    data(){\n        return {\n            bpm: 120,\n            nextId: 2,\n            inst_id: 1,\n            layers: [\n                {\n                    id: 0,\n                    num_beats: 3\n                },\n                {\n                    id: 1,\n                    num_beats: 2\n                },\n            ],\n            inst_id: 1,\n            inst_name: ['nome_strumento1','nome_strumento2','nome_strumento3'] /*mettere nomi degli strumenti*/\n        }\n    },\n\n    computed: {\n        total_duration() {\n            if(this.layers[0]){\n                return this.layers[0].num_beats*60000/this.bpm\n            }\n        }\n    },\n\n    methods: {\n        addLayer(num_beats_input) {\n            this.layers.push(\n                {   \n                    id: this.nextId,\n                    num_beats: num_beats_input\n                }\n            )\n            this.nextId += 1\n        },\n        updateBPM(bpm_input) {\n            this.bpm = bpm_input\n        },\n        /** l'uso di $ref non è dinamico, quindi se aggiungo layer quando sto suonando l'ultimo layer non parte */\n        playAll() {\n            for(idx in this.layers) {\n                this.$refs.layers_refs[idx].isPlaying = 0\n            }\n            this.playing = true\n            for(idx in this.layers) {\n                this.$refs.layers_refs[idx].play()\n            }\n        },\n        stopAll() {\n            for(idx in this.layers) {\n                this.$refs.layers_refs[idx].stop()\n            }\n            this.playing = false\n        },\n        instSelected(inst_id) {\n            this.inst_id=inst_id\n        },\n    }\n}\n\nvar app = new Vue({\n    el:'#app',\n    components: {\n        'sequencer-component': sequencerComponent\n    }\n})\n\nvar synth1 = new Tone.PolySynth().toDestination();\nvar synth2 = new Tone.DuoSynth({\n    vibratoAmount  : 0.5 ,\n    vibratoRate  : 5 ,\n    harmonicity  : 1.5 ,\n    voice0  : {\n    volume  : -10 ,\n    portamento  : 0 ,\n    oscillator  : {\n    type  : \"sine\"\n    }  ,\n    filterEnvelope  : {\n    attack  : 0.01 ,\n    decay  : 0 ,\n    sustain  : 1 ,\n    release  : 0.5\n    }  ,\n    envelope  : {\n    attack  : 0.01 ,\n    decay  : 0 ,\n    sustain  : 1 ,\n    release  : 0.5\n    }\n    }  ,\n    voice1  : {\n    volume  : -10 ,\n    portamento  : 0 ,\n    oscillator  : {\n    type  : \"sine\"\n    }  ,\n    filterEnvelope  : {\n    attack  : 0.01 ,\n    decay  : 0 ,\n    sustain  : 1 ,\n    release  : 0.5\n    }  ,\n    envelope  : {\n    attack  : 0.01 ,\n    decay  : 0 ,\n    sustain  : 1 ,\n    release  : 0.5\n    }\n    }\n    }).toDestination();\nvar synth3 = new Tone.PluckSynth({\n    attackNoise  : 1 ,\n    dampening  : 8000 ,\n    resonance  : 0.9\n    }).toDestination();\n"],"names":[],"version":3,"file":"index.1625f28e.js.map","sourceRoot":"/__parcel_source_root/"}